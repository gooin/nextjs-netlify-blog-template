---
slug: typescript-last
title: "[type-chanlleges] 最后一个元素"
date: 2021-11-30
author: yanzhitao
tags:
  - frontend
  - typescript
---
### 题目
  
实现一个通用`Last<T>`，它接受一个数组`T`并返回其最后一个元素的类型。

例如

```ts
type arr1 = ['a', 'b', 'c']
type arr2 = [3, 2, 1]

type tail1 = Last<arr1> // expected to be 'c'
type tail2 = Last<arr2> // expected to be 1
```

## 解1 ：
```ts
type Last1<T extends any[]> = [any, ...T][T['length']]
```
`T extends any[]` 表示 `T` 是一个数组，`T['length']` 表示 `T` 的长度。如果是数组，那么和`Array.proptype`一样，有`length`属性。
因为不能用`T['length'] - 1` 这样的写法，所以在数组首位加一个`any`占位。

## 解2 ：
```ts
type Last1<T extends any[]> = T extends [...any[], infer Latest] ? Latest : never
```
重新指定`T`的结构，通过`infer`类型推断，`Latest`是`T`的最后一个元素。




### ref:

[type-chanlleges](https://github.com/type-challenges/type-challenges/blob/master/README.zh-CN.md)

[最后一个元素](https://github.com/type-challenges/type-challenges/blob/master/questions/15-medium-last/README.zh-CN.md)


